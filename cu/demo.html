<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>自定义UI组件库演示</title>
  
  <!-- 引入组件脚本 -->
  <script src="custom-button.js"></script>
  <script src="custom-card.js"></script>
  <script src="custom-switch.js"></script>
  <script src="custom-notification.js"></script>
  <script src="custom-loader.js"></script>
  <script src="custom-select.js"></script>
  <script src="custom-menu.js"></script>
  <script src="custom-input.js"></script>
  <script src="custom-persona.js"></script>

  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, 
                  Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      margin: 0;
      padding: 20px;
      transition: background-color 0.3s ease;
      min-height: 100vh;
    }

    body.with-background {
      background-image: url('https://cn.bing.com//th?id=OHR.LittleFoxes_ZH-CN8622806156_UHD.jpg&rf=LaDigue_UHD.jpg&pid=hp');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
    }

    body.dark-theme {
      background-color: #222;
      color: #eee;
    }

    body.light-theme {
      background-color: #f5f5f5;
      color: #333;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      margin-bottom: 2rem;
      padding: 1rem;
      border-radius: 8px;
      background-color: rgba(255, 255, 255, 0.8);
    }

    .dark-theme .header {
      background-color: rgba(40, 40, 40, 0.8);
    }

    .controls {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 2rem;
      padding: 1rem;
      border-radius: 8px;
      background-color: rgba(255, 255, 255, 0.8);
    }

    .dark-theme .controls {
      background-color: rgba(40, 40, 40, 0.8);
    }

    .components-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }

    .component-section {
      margin-bottom: 1.5rem;
    }

    .component-section h2 {
      margin-bottom: 1rem;
    }

    .demo-card {
      padding: 20px;
      border-radius: 8px;
      background-color: rgba(255, 255, 255, 0.8);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      margin-bottom: 1.5rem;
    }

    .dark-theme .demo-card {
      background-color: rgba(40, 40, 40, 0.8);
    }

    .code-block {
      background-color: rgba(0, 0, 0, 0.06);
      padding: 15px;
      border-radius: 4px;
      margin-top: 10px;
      font-family: monospace;
      overflow-x: auto;
    }

    .dark-theme .code-block {
      background-color: rgba(255, 255, 255, 0.1);
    }
  </style>
</head>
<body class="light-theme">
  <div class="container">
    <div class="header">
      <h1>自定义 UI 组件库演示</h1>
      <p>这是一套基于 Web Components 实现的现代化 UI 组件库</p>
    </div>

    <div class="controls">
      <custom-card title="主题与背景设置" variant="blur">
        <div style="display: flex; flex-direction: column; gap: 15px;">
          <custom-switch id="theme-switch" label="暗色主题" theme="light" variant="blur"></custom-switch>
          <custom-switch id="background-switch" label="显示背景图" theme="light" variant="blur"></custom-switch>
          <custom-switch id="variant-switch" label="模糊效果" checked theme="light" variant="blur"></custom-switch>
        </div>
      </custom-card>
    </div>

    <div class="components-grid">
      <!-- 按钮组件展示 -->
      <div class="demo-card">
        <h2>按钮组件 (Custom Button)</h2>
        <div class="component-section">
          <custom-button id="demo-button" text="基础按钮" theme="light" variant="blur"></custom-button>
          <custom-button text="禁用状态" disabled theme="light" variant="blur"></custom-button>
        </div>
        <div class="code-block">
          &lt;custom-button text="基础按钮" theme="light" variant="blur"&gt;&lt;/custom-button&gt;
        </div>
      </div>

      <!-- 卡片组件展示 -->
      <div class="demo-card">
        <h2>卡片组件 (Custom Card)</h2>
        <div class="component-section">
          <custom-card title="卡片示例" theme="light" variant="blur">
            <p>这是卡片内部内容，可以放置任何HTML元素。</p>
          </custom-card>
        </div>
        <div class="code-block">
          &lt;custom-card title="卡片示例" theme="light" variant="blur"&gt;
            &lt;p&gt;卡片内容&lt;/p&gt;
          &lt;/custom-card&gt;
        </div>
      </div>

      <!-- 开关组件展示 -->
      <div class="demo-card">
        <h2>开关组件 (Custom Switch)</h2>
        <div class="component-section">
          <custom-switch id="demo-switch" label="功能开关" theme="light" variant="blur"></custom-switch>
          <custom-switch label="禁用状态" disabled theme="light" variant="blur"></custom-switch>
        </div>
        <div class="code-block">
          &lt;custom-switch label="功能开关" theme="light" variant="blur"&gt;&lt;/custom-switch&gt;
        </div>
      </div>

      <!-- 加载器组件展示 -->
      <div class="demo-card">
        <h2>加载器组件 (Custom Loader)</h2>
        <div class="component-section">
          <custom-loader type="spinner" size="medium" label="加载中..." theme="light" variant="blur"></custom-loader>
          <br>
          <custom-loader type="dots" size="large" theme="light" variant="blur"></custom-loader>
          <br>
          <custom-loader type="pulse" size="small" theme="light" variant="blur"></custom-loader>
        </div>
        <div class="code-block">
          &lt;custom-loader type="spinner" size="medium" label="加载中..." theme="light" variant="blur"&gt;&lt;/custom-loader&gt;
        </div>
      </div>

      <!-- 选择组件展示 -->
      <div class="demo-card">
        <h2>选择组件 (Custom Select)</h2>
        <div class="component-section">
          <custom-select id="demo-select" label="选择选项" placeholder="请选择" theme="light" variant="blur"></custom-select>
        </div>
        <div class="code-block">
          &lt;custom-select label="选择选项" placeholder="请选择" theme="light" variant="blur"&gt;&lt;/custom-select&gt;
        </div>
      </div>

      <!-- 菜单组件展示 -->
      <div class="demo-card">
        <h2>菜单组件 (Custom Menu)</h2>
        <div class="component-section">
          <custom-menu id="demo-menu" label="导航菜单" theme="light" variant="blur">
            <div slot="menu-item">首页</div>
            <div slot="menu-item">产品</div>
            <div slot="menu-item">关于我们</div>
            <div slot="menu-item">联系方式</div>
          </custom-menu>
        </div>
        <div class="code-block">
          &lt;custom-menu label="导航菜单" theme="light" variant="blur"&gt;
            &lt;div slot="menu-item"&gt;菜单项&lt;/div&gt;
          &lt;/custom-menu&gt;
        </div>
      </div>

      <!-- 通知组件展示 -->
      <div class="demo-card">
        <h2>通知组件 (Custom Notification)</h2>
        <div class="component-section" style="display: flex; gap: 10px; flex-wrap: wrap;">
          <custom-button id="info-notification" text="信息通知" theme="light" variant="blur"></custom-button>
          <custom-button id="success-notification" text="成功通知" theme="light" variant="blur"></custom-button>
          <custom-button id="warning-notification" text="警告通知" theme="light" variant="blur"></custom-button>
          <custom-button id="error-notification" text="错误通知" theme="light" variant="blur"></custom-button>
        </div>
        <div class="code-block">
          CustomNotification.show({
            message: "这是一条通知消息",
            type: "info",
            theme: "light",
            variant: "blur",
            duration: 3000
          });
        </div>
      </div>

      <!-- 输入框组件展示 -->
      <div class="demo-card">
        <h2>输入框组件 (Custom Input)</h2>
        <div class="component-section">
          <custom-input id="demo-input" label="用户名" theme="light" variant="blur"></custom-input>
          <br>
          <custom-input type="password" label="密码" theme="light" variant="blur"></custom-input>
          <br>
          <custom-input label="禁用状态" value="不可编辑内容" disabled theme="light" variant="blur"></custom-input>
        </div>
        <div class="code-block">
          &lt;custom-input label="用户名" theme="light" variant="blur"&gt;&lt;/custom-input&gt;
        </div>
      </div>

      <!-- 个人资料组件展示 -->
      <div class="demo-card">
        <h2>个人资料组件 (Custom Persona)</h2>
        <div class="component-section" style="display: flex; flex-wrap: wrap; gap: 20px;">
          <custom-persona 
            name="Stars" 
            title="个人开发者" 
            description="热爱编程，喜欢分享" 
            theme="light" 
            variant="blur"
            size="small"
            id="demo-persona-1">
          </custom-persona>
          
          <custom-persona 
          name="林彩芝" 
          title="工程师" 
          avatar="/Users/stars/Library/Containers/com.tencent.qq/Data/Library/Application Support/QQ/nt_qq_5b8f320516cd89d47003510c31836ebd/nt_data/Pic/2025-04/Ori/d57474ba1aa882df673e1ffa4131c8f2.png" 
          description="学生黄金大使" 
          theme="light" 
          variant="blur"
          id="demo-persona-2">
          </custom-persona>
        
          <custom-persona 
            name="张三" 
            title="CEO" 
            description="管理公司" 
            theme="light" 
            variant="blur"
            size="large"
            id="demo-persona-3">
          </custom-persona>
        </div>
        <div class="code-block">
          &lt;custom-persona 
            name="张三" 
            title="CEO" 
            avatar="图片URL(可选)" 
            description="管理公司" 
            theme="light" 
            variant="blur"&gt;
          &lt;/custom-persona&gt;
        </div>
      </div>
    </div>
  </div>

  <script>
    // 初始化组件和事件监听
    document.addEventListener('DOMContentLoaded', () => {
      // 主题切换
      const themeSwitch = document.getElementById('theme-switch');
      themeSwitch.addEventListener('change', (event) => {
        const isDarkTheme = event.detail.checked;
        document.body.classList.toggle('dark-theme', isDarkTheme);
        document.body.classList.toggle('light-theme', !isDarkTheme);
        
        // 更新所有组件的主题
        const theme = isDarkTheme ? 'dark' : 'light';
        updateComponentsProperty('theme', theme);
      });

      // 背景切换
      const backgroundSwitch = document.getElementById('background-switch');
      backgroundSwitch.addEventListener('change', (event) => {
        document.body.classList.toggle('with-background', event.detail.checked);
      });

      // 模糊效果切换
      const variantSwitch = document.getElementById('variant-switch');
      variantSwitch.addEventListener('change', (event) => {
        const variant = event.detail.checked ? 'blur' : 'performance';
        updateComponentsProperty('variant', variant);
      });

      // 设置Select组件选项
      const demoSelect = document.getElementById('demo-select');
      demoSelect.setOptions([
        {value: 'option1', text: '选项一'},
        {value: 'option2', text: '选项二'},
        {value: 'option3', text: '选项三'}
      ]);
      
      // 监听Select变化
      demoSelect.addEventListener('change', (event) => {
        console.log(`选择了: ${event.detail.text}, 值: ${event.detail.value}`);
      });

      // 监听菜单点击
      const demoMenu = document.getElementById('demo-menu');
      demoMenu.addEventListener('menu-select', (event) => {
        console.log(`点击了菜单项: ${event.detail.index} - ${event.detail.item.textContent}`);
      });

      // 监听按钮点击
      const demoButton = document.getElementById('demo-button');
      demoButton.addEventListener('click', () => {
        console.log('按钮被点击了');
      });

      // 监听开关变化
      const demoSwitch = document.getElementById('demo-switch');
      demoSwitch.addEventListener('change', (event) => {
        console.log(`开关状态: ${event.detail.checked ? '开启' : '关闭'}`);
      });

      // 通知演示
      document.getElementById('info-notification').addEventListener('click', () => {
        CustomNotification.show({
          message: "这是一条信息通知",
          type: "info",
          theme: document.body.classList.contains('dark-theme') ? 'dark' : 'light',
          variant: variantSwitch.checked ? 'blur' : 'performance',
          duration: 3000
        });
      });
      
      document.getElementById('success-notification').addEventListener('click', () => {
        CustomNotification.show({
          message: "操作成功完成",
          type: "success",
          theme: document.body.classList.contains('dark-theme') ? 'dark' : 'light',
          variant: variantSwitch.checked ? 'blur' : 'performance',
          duration: 3000
        });
      });
      
      document.getElementById('warning-notification').addEventListener('click', () => {
        CustomNotification.show({
          message: "请注意，这是一条警告",
          type: "warning",
          theme: document.body.classList.contains('dark-theme') ? 'dark' : 'light',
          variant: variantSwitch.checked ? 'blur' : 'performance',
          duration: 3000
        });
      });
      
      document.getElementById('error-notification').addEventListener('click', () => {
        CustomNotification.show({
          message: "发生错误，请检查输入",
          type: "error",
          theme: document.body.classList.contains('dark-theme') ? 'dark' : 'light',
          variant: variantSwitch.checked ? 'blur' : 'performance',
          duration: 3000
        });
      });

      // 监听输入框事件
      const demoInput = document.getElementById('demo-input');
      demoInput.addEventListener('input', (event) => {
        console.log(`输入框内容变化: ${event.detail.value}`);
      });
      
      demoInput.addEventListener('focus', () => {
        console.log('输入框获得焦点');
      });
      
      demoInput.addEventListener('blur', () => {
        console.log('输入框失去焦点');
      });

      // 监听Persona组件点击
      document.getElementById('demo-persona-1').addEventListener('persona-click', (event) => {
        CustomNotification.show({
          message: `您点击了 ${event.detail.name} 的个人资料卡片`,
          type: "info",
          theme: document.body.classList.contains('dark-theme') ? 'dark' : 'light',
          variant: variantSwitch.checked ? 'blur' : 'performance',
          duration: 3000
        });
      });

      document.getElementById('demo-persona-2').addEventListener('persona-click', (event) => {
        CustomNotification.show({
          message: `您点击了 ${event.detail.name}(${event.detail.title || '无职位'}) 的个人资料卡片`,
          type: "success",
          theme: document.body.classList.contains('dark-theme') ? 'dark' : 'light',
          variant: variantSwitch.checked ? 'blur' : 'performance',
          duration: 3000
        });
      });

      document.getElementById('demo-persona-3').addEventListener('persona-click', (event) => {
        CustomNotification.show({
          message: `您点击了 ${event.detail.name} 的个人资料卡片`,
          type: "warning",
          theme: document.body.classList.contains('dark-theme') ? 'dark' : 'light',
          variant: variantSwitch.checked ? 'blur' : 'performance',
          duration: 3000
        });
      });
    });

    // 工具函数：更新所有组件的属性
    function updateComponentsProperty(property, value) {
      const components = document.querySelectorAll(
        'custom-button, custom-card, custom-switch, custom-loader, custom-select, custom-menu, custom-input, custom-persona'
      );
      components.forEach(component => {
        component.setAttribute(property, value);
      });
    }
  </script>
</body>
</html>